(this["webpackJsonpmattapan-project"]=this["webpackJsonpmattapan-project"]||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var i,r,a,o,c,s,l,d,u,b,p,h,f,m,j,g,x=n(0),v=n.n(x),O=n(70),y=n.n(O),w=(n(86),n(114)),_=n(11),S=n(76),k=n(110),C=(n(87),n(111)),N=n(113),z=new C.a({uri:"",cache:new N.a}),M={spacing:{xs:"4px",s:"8px",m:"16px",l:"24px",xl:"32px",xxl:"40px"},mediaQuery:{tablet:"576px",desktop:"921px"},fonts:{fontFamily:{header:"'Baron Neue', sans-serif",body:"'Lato', sans-serif"},fontWeight:{bold:700,semiBold:500,regular:400},fontSize:{headline:"72px",subHeadline:"60px",title:"40px",subtitle:"32px",large:"24px",regular:"16px",small:"12px"}},colors:{peach:"#FEC0AA",green:"#226653",teal:"#2A9D8F",orange:"#ED5D31",brown:"#4D4319",red:"#D32F2F",blue:"#B4DAF9",black:"#000000",white:"#FFFFFF"},map:{street:"mapbox://styles/mapbox/streets-v11",outdoor:"mapbox://styles/mapbox/outdoors-v11",light:"mapbox://styles/mapbox/light-v10",dark:"mapbox://styles/mapbox/dark-v10",satellite:"mapbox://styles/mapbox/satellite-v9",satelliteStreet:"mapbox://styles/mapbox/satellite-streets-v11",navigationDay:"mapbox://styles/mapbox/navigation-day-v1",navigationNight:"mapbox://styles/mapbox/navigation-night-v1"}},F=n(6),A=n(8),I=n(2),E=A.a.a(i||(i=Object(F.a)(["\n    display: inline-block;\n    text-decoration: none;\n"]))),D=A.a.span(r||(r=Object(F.a)(["\n    padding: 0 ",";\n    font-family: ",";\n    font-size: ",";\n    color: ",";\n    transition: color ease .2s;\n\n    &:hover {\n        color: ",";\n    }\n"])),(function(e){return e.theme.spacing.s}),(function(e){return e.theme.fonts.fontFamily.body}),(function(e){return e.theme.fonts.fontSize.regular}),(function(e){return e.theme.colors.black}),(function(e){return e.color})),B=A.a.span(a||(a=Object(F.a)(["\n    font-family: ",";\n    font-size: ",";\n    font-weight: ",";\n    color: ",";\n    padding: 0 ",";\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.subtitle}),(function(e){return e.theme.fonts.fontWeight.bold}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.spacing.s})),H=function(e){var t=e.href,n=e.children,i=e.color;return Object(I.jsxs)(E,{href:t,children:[" ",Object(I.jsx)(D,{color:i,children:n})]})},T=function(e){var t=e.href,n=e.children;return Object(I.jsx)(E,{target:"_blank",href:t,children:n})},P=n.p+"static/media/mattapan_mapping_logo_2.f5c2e6bf.svg",L=A.a.div(o||(o=Object(F.a)(["\n  background-repeat: no-repeat;\n  background-size: contain;\n  background-position: center;\n  width: 100px;\n  height: 100px;\n"]))),Z=Object(A.a)(L)(c||(c=Object(F.a)(["\n\twidth: 200px;\n\theight: 200px;\n"]))),q=Object(A.a)(L)(s||(s=Object(F.a)(["\n  background-image: url('https://tinyurl.com/57ftrcev');\n"]))),G=Object(A.a)(L)(l||(l=Object(F.a)(["\n  background-image: url('https://tinyurl.com/jra96rec');\n"]))),J=Object(A.a)(Z)(d||(d=Object(F.a)(["\n  background-image: url(",");\n"])),P),V=A.a.div(u||(u=Object(F.a)(["\n\tdisplay: none;\n\n\t@media (min-width: ",") {\n\t\tdisplay: flex;\n\t\tjustify-content: center;\n\t\talign-items: center;\n  }\n"])),(function(e){return e.theme.mediaQuery.tablet})),Q=A.a.div(b||(b=Object(F.a)(["\n\theight: 100px;\n\tdisplay: flex;\n\tjustify-content: space-between;\n\talign-items: center;\n"]))),R=function(e){var t=e.className;return Object(I.jsxs)(Q,{className:t,children:[Object(I.jsx)(V,{children:Object(I.jsx)(E,{href:"/",children:Object(I.jsx)(J,{})})}),Object(I.jsx)(E,{href:"/",color:M.colors.black,children:Object(I.jsx)(B,{children:"Mattapan Boston"})}),Object(I.jsxs)("div",{children:[Object(I.jsx)(H,{href:"/about",color:M.colors.blue,children:"About"}),Object(I.jsx)(H,{href:"/explore",color:M.colors.blue,children:"Explore"}),Object(I.jsx)(H,{href:"/story",color:M.colors.peach,children:"MapBox"}),Object(I.jsx)(H,{href:"/meet",color:M.colors.teal,children:"Meet"}),Object(I.jsx)(H,{href:"/share",color:M.colors.orange,children:"Share"}),Object(I.jsx)(H,{href:"/act",color:M.colors.red,children:"Act"})]})]})},W=A.a.div(p||(p=Object(F.a)(["\n  height: 250px;\n  background-color: #4c4141;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n\n  /* FIXME: also styles HeaderTitle */\n  span {\n    font-family: ",";\n    color: ",";\n  }\n"])),(function(e){return e.theme.fonts.fontFamily.body}),(function(e){return e.theme.colors.white})),X=A.a.div(h||(h=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Y=function(e){var t=e.className;return Object(I.jsxs)(W,{className:t,children:[Object(I.jsx)(B,{children:"Mattapan Boston"}),Object(I.jsx)(X,{children:Object(I.jsxs)(V,{children:[Object(I.jsx)(T,{href:"https://powerfulpathways.org/",children:Object(I.jsx)(q,{})})," |",Object(I.jsx)(T,{href:"https://www.codeforboston.org/",children:Object(I.jsx)(G,{})})]})}),Object(I.jsxs)(X,{children:[Object(I.jsx)("span",{children:"About"}),Object(I.jsx)("span",{children:"Contact"}),Object(I.jsx)("span",{children:"Donate"})]}),Object(I.jsxs)(X,{children:[Object(I.jsx)("span",{children:"For Media"}),Object(I.jsx)("span",{children:"Careers"}),Object(I.jsx)("span",{children:"Newsletter"})]})]})},U=A.a.div(f||(f=Object(F.a)(["\n  min-height: 100vh;\n\n  display: flex;\n  flex-direction: column;\n"]))),K=A.a.div(m||(m=Object(F.a)(["\n  /* TODO: wrap in component selector */\n  flex-grow: 1;\n  padding: 0 16px;\n\n  @media (min-width: ",") {\n    padding: 0 32px;\n  }\n\n  @media (min-width: ",") {\n    padding: 0 200px;\n  }\n"])),(function(e){return e.theme.mediaQuery.tablet}),(function(e){return e.theme.mediaQuery.desktop})),$=Object(A.a)(R)(j||(j=Object(F.a)(["\n  padding: 0 16px;\n\n  @media (min-width: ",") {\n    padding: 0 32px;\n  }\n\n  @media (min-width: ",") {\n    padding: 0 200px;\n  }\n"])),(function(e){return e.theme.mediaQuery.tablet}),(function(e){return e.theme.mediaQuery.desktop})),ee=Object(A.a)(Y)(g||(g=Object(F.a)(["\n  padding: 0 16px;\n\n  @media (min-width: ",") {\n    padding: 0 32px;\n  }\n\n  @media (min-width: ",") {\n    padding: 0 200px;\n  }\n"])),(function(e){return e.theme.mediaQuery.tablet}),(function(e){return e.theme.mediaQuery.desktop})),te=function(e){var t=e.children;return Object(I.jsxs)(U,{children:[Object(I.jsx)($,{}),Object(I.jsx)(K,{children:t}),Object(I.jsx)(ee,{})]})};function ne(){return Object(I.jsx)(te,{children:Object(I.jsx)("h1",{children:"About"})})}function ie(){return Object(I.jsx)(te,{children:Object(I.jsx)("h1",{children:"Contact"})})}var re,ae,oe,ce,se,le,de,ue,be,pe,he,fe,me,je,ge,xe,ve,Oe,ye,we,_e=n(37),Se=n.n(_e),ke=n(52),Ce=n(36),Ne=n(16),ze=n(9),Me=[{id:"greaterMattapanZoning",file:"./boundaries/greater_mattapan_zoning.json",color:M.colors.peach,visible:!1},{id:"zoningSubdistricts",file:"./boundaries/1Zoning_Subdistricts.geojson",color:M.colors.peach,visible:!1},{id:"dotHpZoningSubdistricts",file:"./boundaries/Dot_HP_Zoning_Subdistricts.json",color:M.colors.peach,visible:!1},{id:"greaterMattapanMergedPoly",file:"./boundaries/Greater_Mattapan_Merged_Poly.json",color:M.colors.peach,visible:!1},{id:"greaterMattapanNeighborhoodLine",file:"./boundaries/Greater_Mattapan_Neighborhood_Line.json",color:M.colors.blue,visible:!1},{id:"mattapanNeighborhood",file:"./boundaries/mattapan_neighborhood.json",color:M.colors.blue,visible:!1},{id:"mattapanSquare",file:"./boundaries/Mattapan_Square_qtr_mile.json",color:M.colors.teal,visible:!1},{id:"mattapanZoningSubdistricts",file:"./boundaries/Mattapan_Zoning_subdistricts.geojson",color:M.colors.blue,visible:!1},{id:"mattapanPlanningDistrict",file:"./boundaries/mattapan_planning_district.json",color:M.colors.blue,visible:!1},{id:"mattapanPlanBoundary",file:"./boundaries/PLAN_Mattapan_Poly.json",color:M.colors.blue,visible:!1},{id:"mortonStCorridor",file:"./boundaries/Morton_St_Corridor.json",color:M.colors.orange,visible:!1},{id:"riverStCorridor",file:"./boundaries/River_St_Corridor_FeaturesTo.json",color:M.colors.orange,visible:!1},{id:"cummimnsHwyCorridor",file:"./boundaries/Cummins_Hwy_Corridor.json",color:M.colors.orange,visible:!1},{id:"blueHillAveCorridor",file:"./boundaries/Blue_Hill_Ave_Corridor.json",color:M.colors.orange,visible:!1},{id:"subDistricts",file:"./boundaries/sd.json",color:M.colors.blue,visible:!1},{id:"transportLayer",file:"./boundaries/BTD_transportation_projects.geojson",color:M.colors.orange,visible:!1}],Fe=function(e){return e.reduce((function(e,t){return Object.assign(e,Object(Ce.a)({},t.id,t.visible))}),{})},Ae=[{name:"Housing",color:M.colors.orange,visible:["greaterMattapanZoning","dotHpZoningSubdistricts","mattapanSquare"]},{name:"How is Land Used",color:M.colors.green,visible:["cummimnsHwyCorridor","mattapanPlanBoundary","mattapanSquare"]},{name:"New to Mattapan",color:M.colors.blue,visible:["blueHillAveCorridor","greaterMattapanMergedPoly","zoningSubdistricts"]},{name:"Mattapan Love Stories",color:M.colors.brown,visible:["subDistricts","riverStCorridor","mattapanZoningSubdistricts"]}],Ie=A.a.span(re||(re=Object(F.a)(["\n  color: ",";\n"])),(function(e){return e.color})),Ee=Object(A.a)(Ie)(ae||(ae=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.headline})),De=Object(A.a)(Ie)(oe||(oe=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.subHeadline})),Be=(Object(A.a)(Ie)(ce||(ce=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n  font-weight: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.title}),(function(e){return e.theme.fonts.fontWeight.bold})),Object(A.a)(Ie)(se||(se=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.title}))),He=(Object(A.a)(Ie)(le||(le=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.subtitle})),Object(A.a)(Ie)(de||(de=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.body}),(function(e){return e.theme.fonts.fontSize.large})),Object(A.a)(Ie)(ue||(ue=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.body}),(function(e){return e.theme.fonts.fontSize.regular})),Object(A.a)(Ie)(be||(be=Object(F.a)(["\n  font-family: ",";\n  font-size: ",";\n"])),(function(e){return e.theme.fonts.fontFamily.body}),(function(e){return e.theme.fonts.fontSize.small}))),Te=A.a.div(pe||(pe=Object(F.a)(["\n  font-size: ",";\n  background: #fff;\n  box-shadow: 0 0 4px ",";\n  margin: 24px;\n  padding: "," ",";\n  outline: none;\n  cursor: auto;\n"])),(function(e){return e.theme.fonts.fontSize.regular}),(function(e){return e.theme.colors.black}),(function(e){return e.theme.spacing.m}),(function(e){return e.theme.spacing.l})),Pe=A.a.div(he||(he=Object(F.a)(["\n  -webkit-border-radius: 8px;\n  -moz-border-radius: 8px;\n  border-radius: 8px;\n  margin: 0 ",";\n  border: 1px solid ",";\n  background-color: ",";\n  width: ",";\n  height: ",";\n"])),(function(e){return e.theme.spacing.xs}),(function(e){return e.color}),(function(e){return e.color}),(function(e){return e.theme.spacing.s}),(function(e){return e.theme.spacing.s})),Le=A.a.div(fe||(fe=Object(F.a)(["\n  display: flex;\n  align-items: center;\n"]))),Ze=function(e){var t=e.data,n=e.toggleState,i=e.toggleHandler;return Object(I.jsx)(Te,{children:t.map((function(e){return Object(I.jsxs)(Le,{children:[Object(I.jsx)("input",{checked:n[e.id],type:"checkbox",onChange:function(){return i(e.id)}}),Object(I.jsx)(Pe,{color:e.color}),Object(I.jsx)("span",{children:e.name})]},e.id)}))})},qe=A.a.button(me||(me=Object(F.a)(["\n  background: ",";\n  border: none;\n  border-radius: 4px;\n  margin: "," 0;\n  padding: ",";\n  transition: all ease 0.2s;\n\n  &:hover {\n    background: silver;\n    color: white;\n  }\n"])),(function(e){return e.theme.colors.white}),(function(e){return e.theme.spacing.s}),(function(e){return e.theme.spacing.m})),Ge=A.a.div(je||(je=Object(F.a)(["\n  display: flex;\n  flex-direction: column;\n"]))),Je=A.a.div(ge||(ge=Object(F.a)(["\n  background: ",";\n  height: 100vh;\n  width: 550px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  padding: 0 ",";\n  transition: background ease 0.5s;\n"])),(function(e){return e.color}),(function(e){return e.theme.spacing.l})),Ve=Object(A.a)(Ee)(xe||(xe=Object(F.a)(["\n  color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.colors.white})),Qe=Object(A.a)(De)(ve||(ve=Object(F.a)(["\n  padding: "," 0;\n  color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.spacing.m}),(function(e){return e.theme.colors.white})),Re=Object(A.a)(Be)(Oe||(Oe=Object(F.a)(["\n  padding: "," 0;\n  color: ",";\n  text-align: center;\n"])),(function(e){return e.theme.spacing.m}),(function(e){return e.theme.colors.white})),We=function(e){var t=e.onNarrativeChange;return Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Qe,{children:"Choose a narrative"}),Object(I.jsx)(Ge,{children:Ae.map((function(e){return Object(I.jsx)(qe,{onClick:function(){return t(e.color,e.name)},children:Object(I.jsx)(He,{children:e.name})},e.name)}))})]})},Xe=function(e){var t=e.narrative,n=e.data,i=e.toggleState,r=e.toggleHandler,a=e.onNarrativeChange;return t?Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Re,{children:t}),Object(I.jsx)(qe,{onClick:function(){return a(M.colors.peach,"")},children:"Choose another Narrative"}),Object(I.jsx)(Ze,{data:n,toggleState:i,toggleHandler:r})]}):Object(I.jsx)(We,{onNarrativeChange:a})},Ye=function(e){var t=e.narrative,n=e.data,i=e.toggleState,r=e.toggleHandler,a=e.setNarrative,o=x.useState(M.colors.peach),c=Object(ze.a)(o,2),s=c[0],l=c[1];return Object(I.jsxs)(Je,{color:s,children:[Object(I.jsx)(Ve,{color:M.colors.white,children:"EXPLORE"}),Object(I.jsx)(Xe,{narrative:t,data:n,toggleState:i,toggleHandler:r,onNarrativeChange:function(e,t){l(e),a(t)}})]})},Ue=n(31),Ke=function(e){var t,n,i=e.startingCoordinates,r=e.children,a=e.mapStyle,o=x.useState({latitude:null!==(t=null===i||void 0===i?void 0:i.lat)&&void 0!==t?t:42.286,longitude:null!==(n=null===i||void 0===i?void 0:i.lng)&&void 0!==n?n:-71.088,zoom:12.1,width:"100%",height:"100%"}),c=Object(ze.a)(o,2),s=c[0],l=c[1];return Object(I.jsx)(Ue.e,Object(Ne.a)(Object(Ne.a)(Object(Ne.a)({},s),{touchZoom:!1,doubleClickZoom:!1}),{},{mapboxApiAccessToken:"pk.eyJ1IjoibWF0dGFwYW4tbWFwcGluZyIsImEiOiJjbDFtdGx0ZGswNGM3M2Ntb2s3dXRjazA4In0.rNVTt3z1Fr52sjFi1BGLfg",onViewportChange:function(e){return l(e)},mapStyle:null!==a&&void 0!==a?a:M.map.light,children:r}))},$e=(A.a.div(ye||(ye=Object(F.a)(["\n\tposition: relative;\n  height: 90vh;\n\twidth: 80vw;\n\tbox-shadow: 0 0 2px 2px black;\n\tmargin: 0 auto;\n\tmargin-bottom: 24px;\n\n\t.map {\n\t\theight: 100%;\n\t\twidth: 100%;\n\t\toverflow: visible;\n\t}\n"]))),A.a.p(we||(we=Object(F.a)(["\n\tfont-family: ",";\n\tfont-size: ",";\n\ttext-align: center;\n\tmargin: 24px auto;\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.fonts.fontSize.subtitle})),function(e){var t=e.data,n=e.id,i=e.type,r=e.color;if(!e.visible)return null;var a={id:n,type:i,paint:"line"===i?{"line-color":r}:"fill"===i?{"fill-color":r}:void 0};return Object(I.jsx)(Ue.d,{type:"geojson",data:t,children:Object(I.jsx)(Ue.a,Object(Ne.a)({},a))})});function et(e){var t=e.size,n=void 0===t?20:t,i=e.color,r={fill:void 0===i?M.colors.orange:i,stroke:"none",display:"block"};return Object(I.jsx)("svg",{height:n,viewBox:"0 0 16 16",style:r,children:Object(I.jsx)("path",{d:"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z"})})}var tt,nt,it,rt,at,ot,ct,st,lt,dt,ut,bt,pt,ht,ft,mt,jt,gt=function(e){var t=e.geoJsonData,n=e.toggleState;return Object(I.jsx)(I.Fragment,{children:t.map((function(e){return Object(I.jsx)($e,{data:e.data,id:e.id,type:e.type,color:e.color,visible:n[e.id]},e.id)}))})},xt=n(112),vt=n(77),Ot=(n(109),{});!function(e){e.Color="color",e.File="file",e.Id="id",e.Name="name"}(it||(it={})),function(e){e.Color="color",e.Id="id",e.Name="name"}(rt||(rt={})),function(e){e.Author="author",e.Id="id",e.Src="src",e.Transcript="transcript"}(at||(at={})),function(e){e.VisiblesPkey="Visibles_pkey"}(ot||(ot={})),function(e){e.BoundaryId="boundary_id",e.NarrativeId="narrative_id"}(ct||(ct={})),function(e){e.BoundaryId="boundary_id",e.NarrativeId="narrative_id"}(st||(st={})),function(e){e.BoundaryId="boundary_id",e.Color="color",e.Id="id",e.Name="name"}(lt||(lt={})),function(e){e.Alignment="alignment",e.Callback="callback",e.Description="description",e.Hidden="hidden",e.Id="id",e.Image="image",e.LocationId="location_id",e.MapAnimation="mapAnimation",e.Name="name",e.NarrativeChapterIndex="narrative_chapter_index",e.NarrativeId="narrative_id",e.RotateAnimation="rotateAnimation",e.Title="title"}(dt||(dt={})),function(e){e.Bearing="bearing",e.Center="center",e.Curve="curve",e.Id="id",e.MaxDuration="max_duration",e.MinZoom="min_zoom",e.Pitch="pitch",e.ScreenSpeed="screen_speed",e.Speed="speed",e.Zoom="zoom"}(ut||(ut={})),function(e){e.BoundaryId="boundary_id",e.Color="color",e.File="file",e.Name="name",e.NarrativeId="narrative_id"}(bt||(bt={})),function(e){e.Asc="asc",e.AscNullsFirst="asc_nulls_first",e.AscNullsLast="asc_nulls_last",e.Desc="desc",e.DescNullsFirst="desc_nulls_first",e.DescNullsLast="desc_nulls_last"}(pt||(pt={})),function(e){e.Alignment="alignment",e.Callback="callback",e.Description="description",e.Hidden="hidden",e.Id="id",e.Image="image",e.MapAnimation="mapAnimation",e.Name="name",e.RotateAnimation="rotateAnimation",e.Title="title"}(ht||(ht={})),function(e){e.Bearing="bearing",e.Center="center",e.Curve="curve",e.MaxDuration="max_duration",e.MinZoom="min_zoom",e.Pitch="pitch",e.ScreenSpeed="screen_speed",e.Speed="speed",e.Zoom="zoom"}(ft||(ft={})),function(e){e.Duration="duration",e.Layer="layer",e.Opacity="opacity"}(mt||(mt={})),function(e){e.ChapterEnterId="chapter_enter_id",e.ChapterExitId="chapter_exit_id",e.Duration="duration",e.Id="id",e.Layer="layer",e.Opacity="opacity"}(jt||(jt={}));var yt=Object(xt.a)(tt||(tt=Object(F.a)(["\n    query communityVideos {\n  Videos(order_by: {id: desc}) {\n    id\n    name: author\n    src\n    transcript\n  }\n}\n    "])));var wt,_t,St=Object(xt.a)(nt||(nt=Object(F.a)(["\n    query mapPage {\n  Narratives(order_by: {id: asc}) {\n    id\n    name\n    color\n    boundaries(order_by: {boundary_id: asc}) {\n      id: boundary_id\n    }\n  }\n  Boundaries {\n    id\n    name\n    data: file\n    color\n  }\n}\n    "])));var kt,Ct,Nt=A.a.div(wt||(wt=Object(F.a)(["\n  display: flex;\n  position: relative;\n  height: 100vh;\n  width: 100vw;\n"]))),zt=A.a.div(_t||(_t=Object(F.a)(["\n  display: flex;\n  height: 100%;\n  width: 100%;\n"]))),Mt=Me.map((function(e){return e.file})),Ft=Me.map((function(e){return e.id})),At=Mt.map((function(e){return fetch(e).then((function(e){return e.json()}))}));function It(){var e=function(e){var t=Object(Ne.a)(Object(Ne.a)({},Ot),e);return vt.a(St,t)}().data,t=x.useState([]),n=Object(ze.a)(t,2),i=n[0],r=n[1],a=x.useState([]),o=Object(ze.a)(a,2),c=o[0],s=o[1],l=x.useState({}),d=Object(ze.a)(l,2),u=d[0],b=d[1],p=x.useState(""),h=Object(ze.a)(p,2),f=h[0],m=h[1],j=e||{},g=j.Narratives,v=j.Boundaries;console.log({gqlNarrative:g,gqlBoundaries:v});return x.useEffect((function(){var e=function(){var e=Object(ke.a)(Se.a.mark((function e(){var t,n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(At);case 3:t=e.sent,n=Ft.map((function(e,n){var i;return{data:t[n],name:null!==(i=t[n].name)&&void 0!==i?i:"Name missing from data",id:e,type:"line",color:Me[n].color,visible:Me[n].visible}})),r(n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("Explore page data fetch failed: "+e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),x.useEffect((function(){if(void 0!==g&&void 0!==v){var e=g.filter((function(e){return e.name===f}));if(0===e.length)return;var t=e[0],n=JSON.parse(JSON.stringify(i));t.boundaries.forEach((function(e){var t=e.id;if(void 0!==t&&null!==t){var i=v.findIndex((function(e){return e.id===t})),r=v[i].name,a=n.findIndex((function(e){return e.id===r}));n[a].visible=!0}})),s(n),b(Fe(n))}else s(i),b({})}),[f,i,g,v]),Object(I.jsxs)(U,{children:[Object(I.jsx)($,{}),Object(I.jsxs)(zt,{children:[Object(I.jsx)(Ye,{narrative:f,data:c,toggleState:u,toggleHandler:function(e){b(Object(Ne.a)(Object(Ne.a)({},u),{},Object(Ce.a)({},e,!u[e])))},setNarrative:m}),Object(I.jsx)(Nt,{children:Object(I.jsx)(Ke,{mapStyle:M.map.dark,children:Object(I.jsx)(gt,{geoJsonData:c,toggleState:u})})})]}),Object(I.jsx)(ee,{})]})}function Et(){return Object(I.jsx)(te,{children:Object(I.jsx)("h1",{children:"Get Involved"})})}var Dt,Bt,Ht,Tt,Pt,Lt=A.a.div(kt||(kt=Object(F.a)(["\n    width: 100%;\n\n    @media (min-width: ",") {\n        flex-grow: 1;\n        width: 25%;\n        padding: 20px;\n        position: relative;\n    }"])),(function(e){return e.theme.mediaQuery.tablet})),Zt=A.a.video(Ct||(Ct=Object(F.a)(["\n    width: 100%;\n"]))),qt=function(e){var t=Object(I.jsxs)(I.Fragment,{children:[Object(I.jsx)(Zt,{onClick:function(){e.onVideoClickHander(e.id)},autoPlay:e.autoplay,loop:e.loop,muted:e.muted,ref:function(e){null!=e&&(e.currentTime=0)},children:Object(I.jsx)("source",{src:e.src,type:"video/mp4"})}),Object(I.jsxs)("div",{className:"video-meta",children:[Object(I.jsx)("div",{className:"speaker-name",children:e.speakerName}),Object(I.jsx)("div",{className:"transcript",children:e.transcript})]})]}),n=Object(I.jsx)("div",{children:" error "});return Object(I.jsx)(Lt,{children:e.src?t:n})},Gt=A.a.div(Dt||(Dt=Object(F.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  align-items: center;\n  width: 100%;\n"])));function Jt(){var e=function(e){var t=Object(Ne.a)(Object(Ne.a)({},Ot),e);return vt.a(yt,t)}(),t=e.data,n=e.loading,i=e.error,r=Object(x.useState)(-1),a=Object(ze.a)(r,2),o=a[0],c=a[1];function s(e){c(e)}return Object(I.jsx)(te,{children:Object(I.jsx)(Gt,{children:n?Object(I.jsx)("span",{children:"Loading"}):i?Object(I.jsx)("span",{children:"Error"}):void 0===t?Object(I.jsx)("span",{children:"There's no video..."}):t.Videos.map((function(e){var t=e.id,n=e.name,i=e.src,r=e.transcript;return Object(I.jsx)(qt,{id:t,loop:-1===o||o===t,src:i,speakerName:n,transcript:r||"No description.",autoplay:-1===o||o===t,muted:o!==t,onVideoClickHander:s},t)}))})})}var Vt,Qt=A.a.div(Bt||(Bt=Object(F.a)(["\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: 1fr 1fr 1fr;\n  column-gap: ",";\n  row-gap: ",";\n  background: radial-gradient(silver, transparent 60%);\n\n  @media (min-width: ",") {\n    grid-template-columns: 1fr 1fr 1fr;\n    grid-template-rows: 1fr 1fr;\n    column-gap: ",";\n    row-gap: ",";\n  }\n"])),(function(e){return e.theme.spacing.m}),(function(e){return e.theme.spacing.m}),(function(e){return e.theme.mediaQuery.tablet}),(function(e){return e.theme.spacing.l}),(function(e){return e.theme.spacing.l})),Rt=A.a.div(Ht||(Ht=Object(F.a)(["\n  width: 100%;\n  height: 500px;\n  position: relative;\n  overflow: hidden;\n\n  &:hover {\n    .card-image {\n      transform: scale(1);\n    }\n    .card-info {\n      transform: translateY(-100%);\n    }\n  }\n"]))),Wt=A.a.div(Tt||(Tt=Object(F.a)(["\n  height: 100%;\n  width: 100%;\n  transform: scale(0.8);\n  transition: transform 0.2s ease-in;\n  background-image: url(",");\n  background-size: cover;\n  background-repeat: no-repeat;\n  box-shadow: 0 0 24px 0 black;\n"])),(function(e){return e.src})),Xt=A.a.span(Pt||(Pt=Object(F.a)(["\n  position: absolute;\n  color: white;\n  transform: translateY(-50%);\n  top: 50%;\n  left: 8px;\n  font-size: 48px;\n  font-family: ",";\n  z-index: 4;\n  text-shadow: 0 0 2px black;\n\n  @media (min-width: ",") {\n    font-size: 48px;\n  }\n"])),(function(e){return e.theme.fonts.fontFamily.header}),(function(e){return e.theme.mediaQuery.tablet})),Yt=function(e){e.children;var t=e.color,n=e.src,i=e.title;return Object(I.jsxs)(Rt,{color:t,children:[Object(I.jsx)(Xt,{children:i}),Object(I.jsx)(Wt,{className:"card-image",src:n})]})},Ut=function(){return Object(I.jsxs)(Qt,{children:[Object(I.jsx)(Yt,{title:"About",color:M.colors.blue,src:"https://upload.wikimedia.org/wikipedia/commons/3/3b/Mattapan_M_Line_Trolley_3254.jpg",children:"More info on About"}),Object(I.jsx)(Yt,{title:"Explore",color:M.colors.peach,src:"https://cdn10.bostonmagazine.com/wp-content/uploads/sites/2/2018/12/mattapan1.jpg",children:"More info on Explore"}),Object(I.jsx)(Yt,{title:"Meet",color:M.colors.teal,src:"https://assets.simpleviewinc.com/simpleview/image/upload/c_fill,f_jpg,g_xy_center,h_748,q_65,w_640,x_836,y_394/v1/clients/boston/Mattapan_KyleKlein_KKP11885_6575163c-84da-4e45-a1a0-e7b1f4724191.jpg",children:"Meet"}),Object(I.jsx)(Yt,{title:"Share",color:M.colors.orange,src:"https://i.pinimg.com/originals/b7/20/98/b720983ab02bbdf91e643427d17470cb.jpg",children:"More info on Share"}),Object(I.jsx)(Yt,{title:"Get Involved",color:M.colors.red,src:"https://images1.apartments.com/i2/C-nvX3YH0OZYtCUKBXUSgYr9XOvRY4U8cKwa-F2isvg/111/78-mattapan-st-unit-1-boston-ma-exterior.jpg",children:"More info on Get Involved"}),Object(I.jsx)(Yt,{title:"Contact Us?",color:M.colors.brown,src:"https://scontent-bos3-1.xx.fbcdn.net/v/t1.6435-9/p960x960/120760232_3847173248643441_4683888836416691032_n.jpg?_nc_cat=104&ccb=1-5&_nc_sid=36a2c1&_nc_ohc=CFsgtqppGvcAX_ZnzNE&_nc_ht=scontent-bos3-1.xx&oh=dc1f7a638e4cc2fcf5150610c79d1c42&oe=618D5C99",children:"More info on Contact Us?"})]})},Kt=A.a.video(Vt||(Vt=Object(F.a)(["\n    width: 100%;\n    box-shadow: 0 0 24px 0 black;\n    border-radius: 4px;\n"]))),$t=function(){return Object(I.jsx)(Kt,{autoPlay:!0,muted:!0,loop:!0,preload:"auto",playsInline:!0,src:"https://assets.mixkit.co/videos/preview/mixkit-daytime-city-traffic-aerial-view-56-large.mp4"})};function en(){return Object(I.jsxs)(te,{children:[Object(I.jsx)($t,{}),Object(I.jsx)(Ut,{})]})}function tn(){return Object(I.jsx)(te,{children:Object(I.jsx)("h1",{children:"Share"})})}n(95),n(96);var nn,rn,an=function(){return null},on=n(65);function cn(e){var t=e.id,n=e.content,i=e.title,r=e.image,a=e.isActive,o=e.hidden,c=e.alignment;return Object(I.jsx)("div",{id:t,className:"step ".concat(a?"active":""," ").concat(c," ").concat(o?"hidden":""),children:Object(I.jsxs)("div",{className:"light",children:[Object(I.jsx)("h3",{children:i}),Object(I.jsx)("img",{src:r,alt:""}),Object(I.jsx)("p",{children:n})]})})}var sn=A.a.header(nn||(nn=Object(F.a)(["\n  margin: auto;\n  width: 100%;\n  position: relative;\n  z-index: 5;\n"]))),ln=A.a.footer(rn||(rn=Object(F.a)(["\n  width: 100%;\n  min-height: 5vh;\n  padding-top: 2vh;\n  padding-bottom: 2vh;\n  text-align: center;\n  line-height: 25px;\n  font-size: 13px;\n  position: relative;\n  z-index: 5;\n"])));function dn(e){var t=e.title,n=e.subtitle,i=e.byline;return Object(I.jsxs)(sn,{id:"header",className:"dark",children:[Object(I.jsx)("h1",{children:t}),Object(I.jsx)("h2",{children:n}),Object(I.jsx)("p",{children:i})]})}function un(e){var t=e.footerHtml;return Object(I.jsx)(ln,{id:"footer",className:"dark",children:Object(I.jsx)("p",{dangerouslySetInnerHTML:{__html:t}})})}var bn={fill:["fill-opacity"],line:["line-opacity"],circle:["circle-opacity","circle-stroke-opacity"],symbol:["icon-opacity","text-opacity"],raster:["raster-opacity"],"fill-extrusion":["fill-extrusion-opacity"],heatmap:["heatmap-opacity"]},pn={left:"lefty",center:"centered",right:"righty",full:"fully"};function hn(e){var t=e.onMarkerCoordsChange,n=e.chapterData,i=e.headerTitle,r=e.headerSubtitle,a=e.headerByline,o=e.footerHtml,c=e.showMarkers,s=e.toggleLayer,l=v.a.useState(""),d=Object(ze.a)(l,2),u=d[0],b=d[1],p=v.a.useContext(Ue.b).map,h=v.a.useState(p.current),f=Object(ze.a)(h,2),m=f[0],j=f[1];function g(e){var t=e.layer,n=e.duration,i=e.opacity;if(m){var r=function(e){if(m){var t,n=null===(t=m.getLayer(e))||void 0===t?void 0:t.type;return bn[n]}}(t);null===r||void 0===r||r.forEach((function(e){var r={};if(n){var a="".concat(e,"-transition");r={duration:n},m.setPaintProperty(t,a,r)}m.setPaintProperty(t,e,i,r)}))}}v.a.useEffect((function(){var e;j(null===p||void 0===p||null===(e=p.current)||void 0===e?void 0:e.getMap())}),[p]);var x=n.map((function(e,t){return Object(I.jsx)(on.b,{data:e.id,children:Object(I.jsx)("div",{children:Object(I.jsx)(cn,{id:e.id,title:e.title,content:e.description,image:e.image,alignment:pn[e.alignment]||"centered",hidden:e.hidden,isActive:e.id===u},e.id)})},e.id)}));return Object(I.jsxs)("div",{id:"story",children:[Object(I.jsx)(dn,{title:i,subtitle:r,byline:a}),Object(I.jsx)("div",{id:"features",style:{paddingTop:"10vh",paddingBottom:"10vh"},children:Object(I.jsx)(on.a,{onStepEnter:function(e){var i=e.data;b(i);var r=n.find((function(e){return e.id===i}));m&&m[r.mapAnimation||"flyTo"](r.location),c&&t(r.location.center),r.onChapterEnter.length>0&&r.onChapterEnter.forEach((function(e){s(e.layer),g(e)})),r.callback,r.rotateAnimation&&m&&m.once("moveend",(function(){var e=m.getBearing();m.rotateTo(e+180,{duration:3e4,easing:function(e){return e}})}))},onStepExit:function(e){var t=e.data,i=n.find((function(e){return e.id===t}));i.onChapterExit.length>0&&i.onChapterExit.forEach((function(e){s(e.layer),g(e)}))},offset:.5,children:x})}),Object(I.jsx)(un,{footerHtml:o})]})}n(97);var fn="pk.eyJ1IjoibWF0dGFwYW4tbWFwcGluZyIsImEiOiJjbDFtdGx0ZGswNGM3M2Ntb2s3dXRjazA4In0.rNVTt3z1Fr52sjFi1BGLfg",mn=Me.map((function(e){return e.file})),jn=Me.map((function(e){return e.id})),gn=mn.map((function(e){return fetch(e).then((function(e){return e.json()}))})),xn={method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:"\n    query ChaptersList {\n        chapters: storytelling_chapter(order_by: {id: asc}) {\n            id: name\n            alignment\n            hidden\n            title\n            image\n            description\n            location {\n                center\n                zoom\n                pitch\n                bearing\n                curve\n                max_duration\n                min_zoom\n                screen_speed\n                speed\n            }\n            mapAnimation\n            rotateAnimation\n            callback\n            onChapterEnter {\n                layer\n                opacity\n                duration\n            }\n            onChapterExit {\n                layer\n                opacity\n                duration\n            }\n        }\n    }"})},vn="mapbox://styles/mattapan-mapping/cl1mtp3gy000k14mblgpwmoh8",On=fn,yn=!0,wn="#3FB1CE",_n="The Title Text of this Story",Sn="A descriptive and interesting subtitle to draw in the reader",kn="By a Digital Storyteller",Cn='Source: source citations, etc. <br> Created using <a href="https://github.com/mapbox/storytelling" target="_blank">Mapbox Storytelling</a> template.',Nn=[{id:"slug-style-id",alignment:"left",hidden:!1,title:"Base Title",image:"./path/to/image/source.png",description:"Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.",location:{center:[-71.0869,42.27],zoom:12,pitch:60,bearing:0},mapAnimation:"flyTo",rotateAnimation:!1,callback:"",onChapterEnter:[{layer:"river-st-corridor",opacity:1,duration:5e3},{layer:"transportLayer",opacity:1,duration:5e3},{layer:"cummimnsHwyCorridor",opacity:1,duration:5e3}],onChapterExit:[{layer:"river-st-corridor",opacity:0},{layer:"transportLayer",opacity:0,duration:5e3},{layer:"cummimnsHwyCorridor",opacity:0,duration:5e3}]},{id:"second-identifier",alignment:"right",hidden:!1,title:"Second Title",image:"./path/to/image/source.png",description:"Copy these sections to add to your story.",location:{center:[-71.0869,42.27],zoom:12,pitch:60,bearing:0},mapAnimation:"flyTo",rotateAnimation:!0,callback:"",onChapterEnter:[{layer:"zoning-subdistricts",opacity:1,duration:1e3},{layer:"mattapanPlanBoundary",opacity:1,duration:1e3}],onChapterExit:[{layer:"zoning-subdistricts",opacity:0},{layer:"mattapanPlanBoundary",opacity:0,duration:1e3}]}],zn=function(e){var t=-1!==(null===e||void 0===e?void 0:e.indexOf("?"));return{url:e+(t?"&pluginName=scrollytellingV2":"?pluginName=scrollytellingV2")}},Mn=function(e){var t,n,i,r,a,o=v.a.useState([]),c=Object(ze.a)(o,2),s=c[0],l=c[1],d=v.a.useState(Nn[0].location.center),u=Object(ze.a)(d,2),b=u[0],p=u[1],h=v.a.useState([]),f=Object(ze.a)(h,2),m=f[0],j=f[1],g=v.a.useState({}),x=Object(ze.a)(g,2),O=x[0],y=x[1],w=v.a.useRef({}),_=function(e){w.current=e,y(e)},S=v.a.useState({longitude:null!==(t=Nn[0].location.center[0])&&void 0!==t?t:-71.088,latitude:null!==(n=Nn[0].location.center[1])&&void 0!==n?n:42.286,zoom:null!==(i=Nn[0].location.zoom)&&void 0!==i?i:12.1,bearing:null!==(r=Nn[0].location.bearing)&&void 0!==r?r:0,pitch:null!==(a=Nn[0].location.pitch)&&void 0!==a?a:0,width:"100%",height:"100%"}),k=Object(ze.a)(S,1)[0],C=v.a.createRef();return v.a.useEffect((function(){var e=function(){var e=Object(ke.a)(Se.a.mark((function e(){var t,n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("",xn).then((function(e){return e.json()}));case 3:t=e.sent,n=t.data,l(n.chapters),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),l(Nn),console.error("Story map page failed to fetch config data from graphql",e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),t=function(){var e=Object(ke.a)(Se.a.mark((function e(){var t,n;return Se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Promise.all(gn);case 3:t=e.sent,n=jn.map((function(e,n){var i;return{data:t[n],name:null!==(i=t[n].name)&&void 0!==i?i:"Name missing from data",id:e,type:"line",color:Me[n].color,visible:Me[n].visible}})),j(n),_(Object(Ne.a)(Object(Ne.a)({},Fe(n)),w.current)),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log("Map Story data fetch failed: "+e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(){return e.apply(this,arguments)}}();t(),e()}),[]),Object(I.jsxs)(Ue.b.Provider,{value:{map:C,container:null,isDragging:!1,eventManager:void 0},children:[Object(I.jsxs)(Ue.e,Object(Ne.a)(Object(Ne.a)({style:{top:0,height:"100vh",width:"100vw",position:"fixed"},mapStyle:vn},k),{},{transformRequest:zn,mapboxApiAccessToken:On||fn,ref:C,children:[Object(I.jsx)(Ue.c,{longitude:b[0],latitude:b[1],offsetLeft:-32,offsetTop:-32,children:Object(I.jsx)(et,{size:32,color:wn})}),Object(I.jsx)(gt,{geoJsonData:m,toggleState:O})]})),Object(I.jsx)(hn,{onMarkerCoordsChange:function(e){e[0]===b[0]&&e[1]===b[1]||p(e)},chapterData:s,headerTitle:_n,headerSubtitle:Sn,headerByline:kn,footerHtml:Cn,showMarkers:yn,toggleLayer:function(e){_(Object(Ne.a)(Object(Ne.a)({},w.current),{},Object(Ce.a)({},e,!w.current[e])))}})]})},Fn=function(){return Object(I.jsx)("h1",{children:"Path Not Recognized"})},An=function(){return Object(I.jsxs)(_.c,{children:[Object(I.jsx)(_.a,{path:"/",element:Object(I.jsx)(en,{})}),Object(I.jsx)(_.a,{path:"/about",element:Object(I.jsx)(ne,{})}),Object(I.jsx)(_.a,{path:"/explore",element:Object(I.jsx)(It,{})}),Object(I.jsx)(_.a,{path:"/story",element:Object(I.jsx)(Mn,{})}),Object(I.jsx)(_.a,{path:"/meet",element:Object(I.jsx)(Jt,{})}),Object(I.jsx)(_.a,{path:"/share",element:Object(I.jsx)(tn,{})}),Object(I.jsx)(_.a,{path:"/act",element:Object(I.jsx)(Et,{})}),Object(I.jsx)(_.a,{path:"/contact",element:Object(I.jsx)(ie,{})}),Object(I.jsx)(_.a,{path:"*",element:Object(I.jsx)(Fn,{})})]})};function In(){return Object(I.jsxs)(k.a,{client:z,children:[Object(I.jsx)(an,{}),Object(I.jsx)(w.b,{theme:M,children:Object(I.jsx)(S.a,{children:Object(I.jsx)(An,{})})})]})}n(98).config(),y.a.render(Object(I.jsx)(v.a.StrictMode,{children:Object(I.jsx)(In,{})}),document.getElementById("root"))},86:function(e,t,n){},97:function(e,t,n){}},[[102,1,2]]]);
//# sourceMappingURL=main.acc59626.chunk.js.map